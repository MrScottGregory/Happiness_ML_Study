<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Goole fonts -->
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,700%7CMerriweather+Sans:300,400,700" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <!-- CSS -->
    <link rel="stylesheet" href="css/theme.min.css">
    
    <title>ML Happiness</title>
</head>
<body>
    <!--Header Info-->

    <header class="site-header">
        <a href="#main" class="sr-only sr-only-focusable">Skip to main content</a>
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light py-3" aria-label="Main navigation">

                <a class="navbar-brand text-dark" href="index.html">
                    <img src="img/passion.svg" alt="Happiness Logo"> Happiness Quest
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars fa-lg"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav align-items-lg-center text-uppercase pt-3 pt-lg-0 ml-auto">
                            <li class="nav-item">
                                    <a class="nav-link" href="data_exploration.html">Data Exploration</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="models.html">ML Models</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="conclusion.html">Conclusions</a>
                                </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>
<!--Main Content-->
    <main id="main">
        <div class="bg-light mb-5">
            <div class="container">
                <div class="row py-5">
                    <div class="col-lg-9">
                        <h1 class="display-4 mb-4">Scott Gregory</h1>
                        <p>Machine Learning Model Featured: <b>Random Forests</b></p>
                        <p>Project Python Libraries: Pandas | Scikit-learn | Matplotlib &amp; Seaborn</p>
                    </div>
                </div>
            </div>
        </div>
        <!--Scrolling Feature-->
         <div class="container">
            <div class="row">
                <div class="col-lg-3 pl-lg-4 order-lg-2">
                    <nav id="nav-comp" class="navbar navbar-expand-lg navbar-light sticky-top mb-3 pl-0" aria-label="Docs navigation">
                        <a class="collapsed btn btn-outline-dark btn-block d-lg-none mb-3 p-3" href="#collapseOne" data-toggle="collapse" data-target="#navbarDocs" aria-expanded="false" aria-controls="navbarDocs" aria-label="Toggle navigation">
                            <span class="text-uppercase">Navigation<i class="fas fa-angle-down ml-4 rotate-icon"></i></span>
                        </a>

                        <div class="collapse navbar-collapse" id="navbarDocs">
                            <ul class="navbar-nav flex-column">
                                <li class="nav-item">
                                    <a class="nav-link" href="#hypothesis">Hypothesis</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#model_details">Model Details</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#data_cleaning">Data Cleaning</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#data_analysis">Data Analysis</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#conclusion">Conclusion</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#code">Code</a>
                                </li>
                                <li class="nav-item d-none d-lg-block">
                                    <a class="nav-link" href="#">Go top &uarr;</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
               <!-- Page Content -->
                <!--This is one long column-->
                <div class="col-lg-9 order-lg-1">
                    <h2 id="hypothesis" class="py-3">Hypothesis</h2>
                    <p>I predicted that economic variables would be the most important features impacting happiness.  I thought social variables would also rank high in importance.</p>
                    
                    <h2 id="model_details" class="py-3">Model Details &amp; Objectives </h2>
                    <p><b>Random Forests</b> is an ensemble, supervised learning algorithm helpful in identifying which variables are most predictive when dealing with several features. It works by permuting through a random sample of decision trees from the features, and aggregating the results while avoiding overfitting. We wanted to narrow our long list of variables to two or three that were most important. Random Forests returns the feature importance score for each of our variables, making that easy to do.</p>
                    
                    
                    <h2 id="data_cleaning" class="py-3">Data Cleaning</h2>
                    <p>Given the limited number of countries, we needed to create a more robust data set to produce a meaningful result. To do this, as part of our ETL, we combined data from each country for years 2010-2017. We removed year and country information from the dataset, leaving only the variable information and target happiness index. We also dropped nulls, changed data types, and renamed variables for greater accuracy and to simplify visualizations.</p>
                    
                    
                    <h2 id="data_analysis" class="py-3">Data Analysis</h2>
                    
                        <h2 class="h5 text-center text-dark">Random Forests Scores</h2>
                        <img src="img/Scott/random_forests_fi.svg" class="img-fluid img-thumbnail img-thumbnail-hover mb-4" alt="Random Forest">

                        <h2 class="h5 text-center text-dark">Pairplot For Strongest Features</h2>
                        <img src="img/Scott/happiness_pairplot.svg" class="img-fluid img-thumbnail img-thumbnail-hover mb-4" alt="Random Forest">

                    
                        <h2 class="h5 text-center text-dark">Wages vs. Happiness</h2>                    
                        <img src="img/Scott/wages_vs_happiness.png" class="img-fluid img-thumbnail img-thumbnail-hover mb-4" alt="Random Forest">

                    <h2 id="conclusion" class="py-3">Conclusion</h2>
                        <p>Random Forests proved to be a relatively easy way to get a baseline ranking of feature importance from our set of variables.</p>

                        <p>The model indicates that all of our features together score a 0.815, a strong prediction of happiness.</p>

                        <p>“Average Wages” was most important feature in predicting happiness (0.209), followed by “Population Density” (0.207) and “GDP" (0.201). When we ran these top three variables through a second Random Forests model, the collective score was 0.777. Surprisingly, social variables like “Social Support” and “Freedom To Make Life Choices” appeared to carry very little importance.</p>

                        <p>We have since learned that strong inter-variable correlation can skew the model, meaning it is better for the variables to be unrelated to one another. We can see from our pair plot that there is a strong correlation between at least two of our variables (GDP and Wages) so that may be impacting our results. If we were to run this again, we would be more mindful of that upfront in feature selection, perhaps running regression analysis between various economic variables, social variables, etc. before confirming our final list of features to train and test.</p>
                    
                    <h2 id="code" class="py-3">GitHub Code</h2>
                    <p>Happiness Project: Happiness Project: Random Forests (All Variables)</p>
                    <script src="https://gist.github.com/MrScottGregory/d98dab2a7b15f184684305fdda794f10.js"></script>
                
            </div>
          </div>
        </div>
<!--    </section>-->
    
    
<!--    </div>-->
    </main>
    
    
    
    
<!-- Footer-->
    <footer class="site-footer mt-5">
        <div class="container">
            <div class="row justify-content-md-between">
<!--
                <div class="col-sm-12 col-md-4 mb-4">
                    <h3 class="h5 mb-3">Company</h3>
                    <p>Boost is a responsive website theme based on Bootstrap 4. We help you to create a site that your users will love.</p>
                </div>
-->
<!--
                <div class="col-4 col-md-2 mb-4">
                    <h3 class="h5 mb-3">About</h3>
                    <ul class="nav flex-column">
                        <li class="mb-1"><a href="#">About</a></li>
                        <li class="mb-1"><a href="#">Team</a></li>
                        <li class="mb-1"><a href="#">Careers</a></li>
                        <li class="mb-1"><a href="#">Blog</a></li>
                    </ul>
                </div>
                <div class="col-4 col-md-2 mb-4">
                    <h3 class="h5 mb-3">Services</h3>
                    <ul class="nav flex-column">
                        <li class="mb-1"><a href="#">Design</a></li>
                        <li class="mb-1"><a href="#">Themes</a></li>
                        <li class="mb-1"><a href="#">Branding</a></li>
                        <li class="mb-1"><a href="#">CMS</a></li>
                    </ul>
                </div>
                <div class="col-4 col-md-2 mb-4">
                    <h3 class="h5 mb-3">Help</h3>
                    <ul class="nav flex-column">
                        <li class="mb-1"><a href="#">FAQ</a></li>
                        <li class="mb-1"><a href="#">Contact</a></li>
                        <li class="mb-1"><a href="#">Phones</a></li>
                        <li class="mb-1"><a href="#">Chat</a></li>
                    </ul>
                </div>
-->
            </div>

            <hr class="m-0" role="presentation">

            <div class="d-flex flex-column flex-sm-row justify-content-sm-between align-items-center mt-4">
                <p class="small text-muted">&copy; Data Project 2019</p>
<!--
                <ul class="list-inline">
                    <li class="list-inline-item">
                        <a class="icon icon-sm icon-secondary" href="#"><i class="icon-inner fab fa-twitter" aria-hidden="true"></i><span class="sr-only">Twitter</span></a>
                    </li>
                    <li class="list-inline-item">
                        <a class="icon icon-sm icon-secondary" href="#"><i class="icon-inner fab fa-facebook-f" aria-hidden="true"></i><span class="sr-only">Facebook</span></a>
                    </li>
                </ul>
-->
            </div>
        </div>
    </footer>

    <script src="js/jquery.slim.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    
</body>
</html>